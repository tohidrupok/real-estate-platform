{% extends 'index.html' %}
{% load static %}

{% block body %}
<!--==============================
    Breadcrumb
==============================-->
<div class="breadcumb-wrapper" data-bg-src="{% static 'assets/img/bg/breadcrumb-bg.jpg' %}">
    <div class="container">
        <div class="breadcumb-content">
            <h1 class="breadcumb-title">Shop Details</h1>
            <ul class="breadcumb-menu">
                <li><a href="{% url 'home' %}">Home</a></li>
                <li>{{ design.name }}</li>
            </ul>
        </div>
    </div>
</div>

<!--==============================
    Product Details
==============================-->
<section class="product-details space-top space-extra-bottom">
    <div class="container">
        <div class="row gx-60">
            <div class="col-lg-6">
                <div class="product-big-img">
                    <div class="img">
                        <img src="{{ design.image.url }}" alt="{{ design.name }}" style="width: 100%; border-radius: 8px;">
                    </div>
                </div>
            </div>
            <div class="col-lg-6 align-self-center">
                <div class="product-about">
                    <h2 class="product-title">{{ design.name }}</h2>
                    <p><strong>Category:</strong> {{ design.category.name }}</p>
                    {% if design.is_featured %}
                        <p class="badge bg-danger">Featured</p>
                    {% endif %}
                    <p class="text mt-3">{{ design.description|linebreaksbr }}</p>

                    <div class="mt-4 actions">
                        <button class="th-btn pill">Add to Favourite</button>
                        <a href="#" class="icon-btn"><i class="far fa-heart"></i></a>
                    </div>

                    <div class="product_meta mt-3">
                        <span class="sku_wrapper">SKU: <span class="sku">Design-{{ design.id }}</span></span><br>
                        <span class="posted_in">Interior Category: <a href="#">{{ design.category.name }}</a></span>
                    </div>
                </div>
            </div>
        </div>

        <!--==============================
        Related Product - Featured
        ==============================-->
        <div class="space-extra-top mb-30">
            <div class="row justify-content-between align-items-center">
                <div class="col-md-auto">
                    <h2 class="sec-title text-center">Featured Products</h2>
                </div>
                <div class="col-md d-none d-sm-block">
                    <hr class="title-line">
                </div>
            </div>

            <div class="row gy-4 mt-4">
                {% for featured in featured_designs %}
                <div class="col-md-6 col-lg-3">
                    <div class="th-product product-grid">
                        <div class="product-img">
                            <a href="{% url 'design_detail' featured.id %}">
                                <img src="{{ featured.image.url }}" alt="{{ featured.name }}"
                                     style="height: 230px; width: 100%; object-fit: cover; border-radius: 8px;">
                            </a>
                            <span class="product-tag">Hot</span>
                        </div>
                        <div class="product-content text-center">
                            <h3 class="product-title">
                                <a href="{% url 'design_detail' featured.id %}">{{ featured.name }}</a>
                            </h3>
                            <span class="price">{{ featured.category.name }}</span>
                        </div>
                    </div>
                </div>
                {% empty %}
                    <p class="text-center">No featured products found.</p>
                {% endfor %}
            </div>
        </div>
    </div>
</section>
{% endblock %}
